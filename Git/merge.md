Git merge — это команда, используемая для объединения изменений из одной ветки в другую. 
Основное преимущество merge заключается в том, что он сохраняет полную историю изменений, 
не переписывая её, что делает процесс объединения более прозрачным и безопасным.


Основные концепции и команды

    Основной синтаксис
        
        git merge <branch>

        Эта команда объединяет изменения из указанной ветки (branch) в текущую ветку.

    Пример
    
        Допустим, у вас есть следующая структура веток:
            
            A - B - C (main)
                 \
                  D - E - F (feature)

        Вы хотите объединить изменения из ветки feature в main:
            
            git checkout main
            git merge feature

        Теперь структура веток будет выглядеть так:
            
            A - B - C - G (main)
                 \     /
                  D - E - F (feature)


        Коммит G — это merge-коммит, который объединяет изменения из feature в main.


Типы merge

    Fast-forward merge

    Если текущая ветка не содержит дополнительных коммитов с момента создания ветки, которую вы объединяете, 
    Git просто переместит указатель ветки вперёд. В этом случае merge-коммит не создаётся.

    Пример

        История до слияния:
            
            A - B - C (main)
                 \
                  D - E - F (feature)

        Выполнение fast-forward merge:

            git checkout main
            git merge feature

        История после слияния:
            
            A - B - C - D - E - F (main, feature)
            

    Three-way merge

    Если текущая ветка содержит дополнительные коммиты, Git создаст новый merge-коммит, объединяя изменения из обеих веток.
    
    Пример
    
        История до слияния:
                
            A - B - C - H (main)
                 \
                  D - E - F (feature)

    
        Выполнение three-way merge:
            
            git checkout main
            git merge feature


        История после слияния:
            
            A - B - C - H - G (main)
                 \       /
                  D - E - F (feature)

        Коммит G — это merge-коммит, который объединяет изменения из обеих веток.


Разрешение конфликтов при merge

    При выполнении merge могут возникнуть конфликты, если изменения из обеих веток конфликтуют. 
    В таком случае Git остановит процесс merge и предложит вам разрешить конфликты.

    Разрешите конфликты в файлах вручную.
    Добавьте исправленные файлы в индекс:

        git add <file>

    Завершите процесс merge:
        
        git commit

    Если вы хотите прервать процесс merge из-за сложных конфликтов, вы можете отменить его:
    
        git merge --abort
    
    
Полезные опции merge

    --no-ff: 
    
        Отключает fast-forward merge и всегда создаёт новый merge-коммит, даже если возможен fast-forward.

        git merge --no-ff <branch>


    --squash: 
    
        Объединяет изменения, но не создаёт merge-коммит. Все изменения будут объединены в один новый коммит, который нужно создать вручную.
        
        git merge --squash <branch>
        git commit


    --no-commit: 
    
        Выполняет merge, но не создаёт коммит автоматически. Это позволяет вам внести изменения перед созданием коммита.
        
        git merge --no-commit <branch>



Заключение

    git merge — это важный инструмент для объединения изменений из одной ветки в другую, 
    сохраняющий полную историю изменений. Он поддерживает как fast-forward, так и three-way merge, 
    обеспечивая гибкость в управлении ветками. Merge подходит для сохранения полной истории и избегания проблем, 
    связанных с переписыванием истории, что делает его предпочтительным инструментом для работы с общими ветками.
