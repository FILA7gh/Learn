Аннотация в программировании — это механизм, позволяющий добавлять метаданные к элементам программы,
таким как функции, классы, переменные и параметры. В Python аннотации типов используются для указания ожидаемых типов данных,
что делает код более читаемым и позволяет статическим анализаторам, таким как mypy, проверять типы на соответствие.


Основные моменты об аннотациях типов в Python:

    Повышение читаемости:

        Аннотации типов делают код более самодокументированным, что облегчает его понимание другими разработчиками.


    Статическая проверка типов:

        С помощью аннотаций типов и инструментов для статического анализа,
        таких как mypy, можно выявить ошибки типов до выполнения программы.


    IDE и автодополнение:

        Многие современные интегрированные среды разработки (IDE) используют аннотации типов
        для улучшения автодополнения и предоставления более точных подсказок.



Примеры использования аннотаций типов

    Аннотации для функций

        def add(a: int, b: int) -> int:
            return a + b

        В этом примере аннотации указывают, что a и b должны быть целыми числами, а функция должна возвращать целое число.


    Аннотации для переменных

        age: int = 30
        name: str = "Alice"

        Здесь переменные age и name аннотированы как int и str соответственно.
        Списки и словари


    Для аннотации сложных типов, таких как списки и словари, используется модуль typing.
        
        from typing import List, Dict
        
        def process_numbers(numbers: List[int]) -> List[int]:
            return [n * 2 for n in numbers]
        
        def translate(words: Dict[str, str]) -> None:
            for word, translation in words.items():
                print(f"{word}: {translation}")
    

    Опциональные типы
        
        from typing import Optional
        
        def get_user_name(user_id: int) -> Optional[str]:
            if user_id == 1:
                return "Alice"
            return None
        
        Optional[str] указывает, что функция может возвращать либо строку, либо None.


    Объединение типов
        
        from typing import Union
        
        def parse_value(value: Union[int, str]) -> int:
            if isinstance(value, int):
                return value
            elif isinstance(value, str):
                return int(value)
            else:
                raise ValueError("Unsupported type")
        
        Union[int, str] указывает, что параметр value может быть либо целым числом, либо строкой.


    Любой тип
        
        from typing import Any
        
        def echo(value: Any) -> Any:
            return value
        
        Any указывает, что параметр может быть любого типа.


    Вызываемые объекты
        
        from typing import Callable
        
        def apply_function(func: Callable[[int, int], int], a: int, b: int) -> int:
            return func(a, b)
        
        Callable[[int, int], int] указывает, что параметр func должен быть функцией, принимающей два целых числа и возвращающей целое число.


Проверка аннотаций типов

    Хотя аннотации типов сами по себе не влияют на выполнение кода в Python, 
    они могут быть проверены с помощью статических анализаторов. Например, 
    с помощью mypy можно проверить аннотации типов в файле example.py:
        
        mypy example.py



Заключение

    Аннотации типов в Python предоставляют мощный способ документирования кода и выявления ошибок на ранних этапах разработки. 
    Их использование способствует созданию более надежного и поддерживаемого кода.
    