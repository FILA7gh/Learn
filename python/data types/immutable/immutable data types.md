

Неизменяемые типы данных (immutable types) в Python обладают свойствами,
которые делают их значения неизменными после создания.


Это достигается благодаря нескольким ключевым аспектам:

    Отсутствие методов для изменения:

        Неизменяемые типы данных не предоставляют методов, которые позволяют изменять их содержимое.
        Например, строки и кортежи не имеют методов для изменения их элементов на месте.


    Внутренняя структура данных:

        Внутренняя реализация неизменяемых типов данных устроена таким образом,
        что после создания объекта его содержимое фиксируется и не может быть изменено.


    Создание нового объекта при необходимости изменения:

        Если требуется изменить значение неизменяемого объекта, создается новый объект
        с новым значением, а не изменяется существующий объект.


    Примеры неизменяемых типов данных:

        Строки (str):

            Строки в Python неизменяемы. Любые операции, которые кажутся изменяющими строку,
            на самом деле создают новую строку.


        Кортежи (tuple):

            Кортежи неизменяемы. После создания кортежа его элементы не могут быть изменены.

          
        Числа (int, float, complex):

            Целые числа, числа с плавающей запятой и комплексные числа в Python неизменяемы.
            Любые арифметические операции создают новые объекты.


        frozenset:

            Замороженные множества неизменяемы. После создания frozenset его элементы не могут быть изменены.


    Преимущества неизменяемых типов данных:

        Безопасность в многопоточности:

            Неизменяемые объекты безопасны для использования в многопоточной среде,
            так как их состояние не может быть изменено несколькими потоками одновременно.


        Хешируемость:

            Неизменяемые объекты могут быть хешируемыми, что позволяет использовать их в качестве ключей
            в словарях и элементов множеств.


        Простота и предсказуемость:

            Работа с неизменяемыми объектами проще и предсказуемее, так как их состояние
            не меняется. Это помогает избежать ошибок, связанных с изменением данных.


    Как создать собственный неизменяемый тип данных:

        Для создания неизменяемого типа данных можно использовать классы и обеспечить,
        чтобы после создания объекта его состояние не могло быть изменено.


        Вот пример создания неизменяемого класса:

            class ImmutablePoint:
                def __init__(self, x, y):
                    self._x = x
                    self._y = y

                @property
                def x(self):
                    return self._x

                @property
                def y(self):
                    return self._y

                def __repr__(self):
                    return f"ImmutablePoint(x={self._x}, y={self._y})"

                def __eq__(self, other):
                    if isinstance(other, ImmutablePoint):
                        return self._x == other._x and self._y == other._y
                    return False

                def __hash__(self):
                    return hash((self._x, self._y))

        # Пример использования
        p1 = ImmutablePoint(1, 2)
        p2 = ImmutablePoint(1, 2)

        print(p1)  # выведет ImmutablePoint(x=1, y=2)
        print(p1 == p2)  # выведет True
        print(hash(p1))  # выведет хеш-значение



В этом примере класс ImmutablePoint обеспечивает неизменяемость за счет использования
приватных атрибутов и свойств (@property), которые не позволяют изменять значения после создания объекта.

