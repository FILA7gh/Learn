Паттерн Строитель (Builder) - это порождающий паттерн проектирования, который используется для создания объектов сложной структуры.
Он позволяет создавать объекты пошагово, изолируя процесс конструирования сложного объекта от его представления.

Основная идея паттерна Строитель заключается в разделении процесса создания сложного объекта на отдельные шаги,
каждый из которых отвечает за создание определенной части объекта. Это позволяет создавать различные варианты объекта,
используя один и тот же строительный процесс.


Основные участники паттерна:

    Строитель (Builder):

        Определяет интерфейс для создания частей объекта и конечного объекта.
        Обычно содержит методы для пошагового построения объекта.


    Конкретные строители (Concrete Builders):

        Реализуют интерфейс строителя и предоставляют конкретную реализацию методов построения объекта.
        Каждый конкретный строитель может создавать свой собственный вариант объекта.


    Директор (Director):

        Отвечает за управление процессом построения объекта с использованием строителя.
        Может определять порядок вызова методов строителя и управлять его конфигурацией.


    Продукт (Product):

        Результат построения объекта, который создается с использованием строителя.
        Может представлять сложную структуру объекта или его части.


Пример использования паттерна Строитель:

    Предположим, у вас есть класс Car, который представляет автомобиль с различными характеристиками,
    такими как модель, цвет, двигатель и т.д. Для создания объектов класса Car с разными конфигурациями
    можно использовать паттерн Строитель. Каждый конкретный строитель будет отвечать за создание автомобиля
    с определенными характеристиками, например, спортивного автомобиля или грузовика.
    Директор может управлять процессом создания автомобиля, выбирая нужный строитель и определяя порядок вызова его методов.

    # Продукт
    class Car:
        def __init__(self):
            self.model = None
            self.color = None
            self.engine = None

        def __str__(self):
            return f"Car(model={self.model}, color={self.color}, engine={self.engine})"


    # Строитель
    class CarBuilder:
        def __init__(self):
            self.car = Car()

        def set_model(self, model):
            self.car.model = model
            return self

        def set_color(self, color):
            self.car.color = color
            return self

        def set_engine(self, engine):
            self.car.engine = engine
            return self

        def build(self):
            return self.car


    # Директор
    class CarDirector:
        def __init__(self, builder):
            self.builder = builder

        def construct_sports_car(self):
            return self.builder.set_model("Sports Car").set_color("Red").set_engine("V8").build()

        def construct_truck(self):
            return self.builder.set_model("Truck").set_color("Blue").set_engine("Diesel").build()


    # Использование
    builder = CarBuilder()
    director = CarDirector(builder)

    sports_car = director.construct_sports_car()
    print(sports_car)  # Вывод: Car(model=Sports Car, color=Red, engine=V8)

    truck = director.construct_truck()
    print(truck)  # Вывод: Car(model=Truck, color=Blue, engine=Diesel)


    В этом примере Car - это продукт, который мы хотим создать. CarBuilder - это строитель,
    который отвечает за пошаговое создание объекта Car. CarDirector - это директор,
    который управляет процессом построения объекта Car с использованием строителя.
    Мы можем использовать директор для создания различных типов автомобилей, таких как спортивный автомобиль
    или грузовик, с разными характеристиками.
