
Метод __new__ в Python является частью процесса создания объекта и позволяет контролировать
этот процесс более гибко, чем метод __init__. В отличие от __init__, который вызывается после создания объекта
и предназначен для его инициализации, __new__ вызывается до __init__ и отвечает за сам процесс создания объекта.


Роль метода __new__:

    Создание объекта:

        Метод __new__ является ответственным за фактическое создание экземпляра класса.
        Он вызывается при использовании оператора создания объекта (например, obj = MyClass()),
        и его задача - вернуть новый экземпляр класса.


    Контроль создания объекта:

        В методе __new__ можно выполнить различные действия перед созданием объекта,
        например, проверить условия, определить, нужно ли создавать новый объект,
        или выполнить какие-то действия, связанные с созданием объекта.


    Параметры метода:

        __new__ принимает в качестве первого аргумента класс, для которого он вызывается (cls).
        Этот метод также может принимать произвольное количество других аргументов,
        которые передаются при создании объекта.


    Статический метод:

        Метод __new__ является статическим методом, что означает, что он вызывается на классе,
        а не на экземпляре класса. Это делает его более гибким для использования в различных ситуациях.


Пример использования метода __new__:

    class MySingleton:
        _instance = None

        def __new__(cls, *args, **kwargs):
            if cls._instance is None:
                cls._instance = super().__new__(cls)
            return cls._instance

    # Создание объектов класса MySingleton
    obj1 = MySingleton()
    obj2 = MySingleton()

    print(obj1 is obj2)  # Выводит True, так как это один и тот же объект

    В этом примере метод __new__ используется для создания синглтона - класса, у которого есть
    только один экземпляр. При первом вызове __new__ создается новый объект и сохраняется
    в переменной класса _instance. При последующих вызовах возвращается тот же самый объект,
    что гарантирует, что в программе существует только один экземпляр класса MySingleton.

