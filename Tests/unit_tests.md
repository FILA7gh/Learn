Юнит-тесты (unit tests) являются неотъемлемой частью процесса разработки программного обеспечения.
Они проверяют корректность работы отдельных единиц кода (обычно функций или методов) в изоляции от других частей программы.


Пример юнит-тестов с использованием модуля unittest

    Рассмотрим пример, где у нас есть функция для сложения двух чисел,
    и мы хотим написать юнит-тесты для проверки ее корректности.

    Основной код

        # calculator.py

        def add(a, b):
            return a + b

        def subtract(a, b):
            return a - b


    Тестовый код

        # test_calculator.py

        import unittest
        from calculator import add, subtract

        class TestCalculator(unittest.TestCase):

            def test_add(self):
                self.assertEqual(add(1, 2), 3)
                self.assertEqual(add(-1, 1), 0)
                self.assertEqual(add(-1, -1), -2)

            def test_subtract(self):
                self.assertEqual(subtract(10, 5), 5)
                self.assertEqual(subtract(-1, 1), -2)
                self.assertEqual(subtract(-1, -1), 0)

        if __name__ == '__main__':
            unittest.main()


Объяснение кода

    Импортируем необходимые модули:

        unittest:
            Модуль для создания и выполнения тестов. add и subtract из модуля calculator, которые мы будем тестировать.


    Создаем класс тестов:

        class TestCalculator(unittest.TestCase): 
            Создаем класс, который наследует от unittest.TestCase.
            Это означает, что наш класс будет использовать функционал unittest для тестирования.


    Создаем тестовые методы:
        Методы, начинающиеся с test_, будут автоматически распознаны unittest как тестовые.

        test_add(self): Метод для тестирования функции add.
        test_subtract(self): Метод для тестирования функции subtract.


    Используем методы проверки (assert):

        self.assertEqual(a, b): Проверяет, что a == b. Если это не так, тест не пройден.

    Запускаем тесты:

        if __name__ == '__main__': unittest.main(): 
            Этот блок кода запускает тесты, если файл выполняется как основная программа.


Запуск тестов

    Чтобы запустить тесты, нужно выполнить файл test_calculator.py:

        python test_calculator.py


Выходные данные

    Если все тесты проходят успешно, вы увидите что-то вроде этого:
        
        ..
        ----------------------------------------------------------------------
        Ran 2 tests in 0.001s
        
        OK


    Если какой-то тест не пройдет, вы получите сообщение об ошибке, указывающее, какой именно тест не прошел и почему.


Преимущества юнит-тестов

    Раннее обнаружение ошибок: Юнит-тесты помогают находить и исправлять ошибки на ранних этапах разработки.
    Документация: Тесты могут служить документацией для вашего кода, показывая, как он должен работать.

    Рефакторинг: 
        При изменении кода юнит-тесты позволяют убедиться, что изменения не нарушили существующую функциональность.

    Автоматизация: 
        Юнит-тесты могут быть автоматически запущены при каждом изменении кода, 
        обеспечивая непрерывную проверку его корректности.


Юнит-тесты являются важным инструментом для обеспечения качества и надежности программного обеспечения.
