Kubernetes (k8s) — это мощная платформа с открытым исходным кодом для автоматизации развертывания, масштабирования 
и управления контейнеризованными приложениями. Она разработана Google и сейчас поддерживается Cloud Native Computing Foundation (CNCF).


Основные компоненты и концепции Kubernetes:

    Кластер:
        Кластер Kubernetes состоит из множества узлов (nodes). 
        Основные компоненты кластера включают мастер-узел и рабочие узлы (worker nodes).


    Мастер-узел (Master Node):
        Управляет кластером и отвечает за управление расписанием, поддержание желаемого состояния приложений, 
        масштабирование и обновления. Основные компоненты мастер-узла:
            
            API Server: Обеспечивает интерфейс для взаимодействия с кластером.
            etcd: Распределенное хранилище данных для всех кластерных данных.
            Controller Manager: Отвечает за управление контроллерами.
            Scheduler: Назначает задачи на рабочие узлы.


    Рабочие узлы (Worker Nodes):
        Выполняют приложения в контейнерах. Основные компоненты рабочих узлов:

            kubelet: Агент, который запускает и управляет контейнерами.
            kube-proxy: Сетевой прокси, который управляет сетевым взаимодействием.
            Container Runtime: Программное обеспечение, которое запускает контейнеры, например Docker или containerd.


    Pod:
        Основная единица вычисления в Kubernetes, представляющая собой один или несколько контейнеров, 
        которые разделяют сеть и систему хранения. Поды развертываются и управляются Kubernetes.


    Deployment:
        Объект, который управляет развертыванием подов. Он определяет желаемое состояние приложения 
        (например, сколько экземпляров должно быть запущено) и обеспечивает его достижение.


    Service:
        Объект, который определяет логическую группу подов и политику доступа к ним. 
        Службы обеспечивают доступность подов для внешних и внутренних клиентов.


    ConfigMap и Secret:
        ConfigMap позволяет хранить конфигурационные данные, а Secret - данные, 
        которые нужно защищать (например, пароли, ключи API).


    Persistent Volume (PV) и Persistent Volume Claim (PVC):
        PV представляет собой ресурс хранения, который существует вне подов. 
        PVC используется подами для запроса хранилища.


Основные возможности Kubernetes:

    Оркестрация контейнеров:
        Kubernetes автоматизирует развертывание, управление и масштабирование контейнеризованных приложений.


    Самовосстановление:
        Kubernetes автоматически перезапускает упавшие контейнеры, заменяет поды, убивает поды, 
        не реагирующие на проверки работоспособности.


    Автомасштабирование:
        Kubernetes автоматически масштабирует приложение в зависимости от нагрузки.

    
    Роллинг-обновления и откаты:
        Kubernetes позволяет обновлять приложение без простоев и откатываться к предыдущим версиям в случае проблем.


    Управление конфигурацией и секретами:
        Kubernetes управляет конфигурациями и секретами для приложений, 
        что упрощает обновление конфигурации без перезапуска приложения.


Пример использования Kubernetes:

    Запуск кластера:
        Kubernetes можно развернуть в различных средах, таких как локальная среда (minikube), 
        облачные провайдеры (GKE, EKS, AKS), или на собственных серверах.


    Развертывание приложения:
        Создание файла манифеста для развертывания приложения (например, deployment.yaml) 
        и использование команды kubectl apply -f deployment.yaml для развертывания.


    Мониторинг и управление:
        Использование встроенных инструментов мониторинга и управления, таких как kubectl get pods, kubectl logs, 
        и других команд для мониторинга состояния подов и контейнеров.


Пример файла манифеста для развертывания приложения:
    
    apiVersion: apps/v1
    kind: Deployment
    metadata:
      name: my-app
    spec:
      replicas: 3
      selector:
        matchLabels:
          app: my-app
      template:
        metadata:
          labels:
            app: my-app
        spec:
          containers:
          - name: my-app-container
            image: my-app-image:latest
            ports:
            - containerPort: 80

    Этот манифест создает деплоймент, который управляет тремя экземплярами (репликами) контейнера my-app-container, 
    запущенного из образа my-app-image:latest.
    